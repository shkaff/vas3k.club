{% extends "layout.html" %}
{% load static %}

{% block title %}
    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è ‚Äî {{ block.super }}
{% endblock %}

{% block content %}
    <div class="content user-edit">
        <div class="form-title">üòé<br>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</div>

        {% if form.non_field_errors %}
            <div class="form-row form-row-center">
                {% for error in form.non_field_errors %}
                    <span class="form-row-errors">{{ error }}</span>
                {% endfor %}
            </div>
        {% endif %}

        <div class="block">
            <div class="block-description block-description-center">
                <p>
                    E-mail –¥–ª—è –≤—Ö–æ–¥–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: <strong>{{ user.email }}</strong>
                </p>

                <p>
                    –í–∞—à —é–∑–µ—Ä–Ω–µ–π–º –≤ –ö–ª—É–±–µ: <strong>{{ user.slug }}</strong>
                </p>
            </div>

            <div class="block-description">
                –°–º–µ–Ω–∏—Ç—å –∏—Ö –º–æ–∂–Ω–æ, —Ç–æ–ª—å–∫–æ <a href="mailto:club@vas3k.club">–Ω–∞–ø–∏—Å–∞–≤ –Ω–∞–º</a> –Ω–∞ –ø–æ—á—Ç—É.
                –û—Ç —á–∞—Å—Ç–æ–π —Å–º–µ–Ω—ã —ç—Ç–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–≥—É—Ç –ø–æ–ª–æ–º–∞—Ç—å—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π,
                –ø–æ—Ç–æ–º—É –ø–æ–∫–∞ –º—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º –¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ä—É–∫–∞–º–∏.
            </div>
        </div>

        <form action="{% url "edit_profile" user.slug %}" method="post" class="intro-form" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="block">
                <div class="form-row">
                    <user-avatar-input
                        input-id="{{ form.avatar.id_for_label }}"
                        current-avatar="{{ user.get_avatar }}"
                    ></user-avatar-input>
                    {{ form.avatar }}
                    {% if form.avatar.errors %}<span class="form-row-errors">{{ form.avatar.errors }}</span>{% endif %}
                </div>

                <div class="form-row">
                    <label for="{{ form.company.id_for_label }}" class="form-label">
                        –ö–æ–º–ø–∞–Ω–∏—è
                    </label>
                    {{ form.company }}
                    {% if form.company.errors %}<span class="form-row-errors">{{ form.company.errors }}</span>{% endif %}
                </div>

                <div class="form-row">
                    <label for="{{ form.position.id_for_label }}" class="form-label">
                        –î–æ–ª–∂–Ω–æ—Å—Ç—å
                    </label>
                    {{ form.position }}
                    {% if form.position.errors %}<span class="form-row-errors">{{ form.position.errors }}</span>{% endif %}
                </div>

                <div class="form-row">
                    <label for="{{ form.country.id_for_label }}" class="form-label">
                        –°—Ç—Ä–∞–Ω–∞ –∏ –≥–æ—Ä–æ–¥
                    </label>
                    {{ form.country }} {{ form.city }}
                    {% if form.country.errors %}<span class="form-row-errors">{{ form.country.errors }}</span>{% endif %}
                    {% if form.city.errors %}<span class="form-row-errors">{{ form.city.errors }}</span>{% endif %}
                    <span class="form-row-help">–í–¥—Ä—É–≥ –º—ã —Ä–µ—à–∏–º —Å–æ–±—Ä–∞—Ç—å—Å—è –Ω–∞ –º–∏—Ç–∞–ø –∏–ª–∏ —Ç–∏–ø–∞ —Ç–æ–≥–æ</span>
                </div>

                <div class="form-row">
                    <label for="{{ form.bio.id_for_label }}" class="form-label">
                        –°—Å—ã–ª–æ—á–∫–∏ –Ω–∞ —Å–µ–±—è –∏ –≤—Å—è–∫–æ–µ —Ç–∞–∫–æ–µ
                    </label>
                    {{ form.bio }}
                    {% if form.bio.errors %}<span class="form-row-errors">{{ form.bio.errors }}</span>{% endif %}
                    <span class="form-row-help">
                        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Markdown –∏ –≠–º–æ–¥–∑–∏ —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫—Ä–∞—Å–∏–≤–æ. –í—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–≥–æ –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    </span>
                </div>

                <button type="submit" class="button button-big" {% if user.is_profile_public %}name="is_profile_public" value="1"{% endif %}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>

                <div class="clearfix50"></div>
            </div>

            <div class="block">
                <div class="block-header">ü•∑ –ü—É–±–ª–∏—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è</div>

                <div class="block-description block-description-center">
                    {% if form.is_profile_public.errors %}
                        <span class="form-row-errors">{{ form.is_profile_public.errors }}</span>
                    {% endif %}

                    {% if user.is_profile_public %}
                        <p>
                            –°–µ–π—á–∞—Å –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å <strong>–û–¢–ö–†–´–¢</strong> –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ: <a href="{{ settings.APP_HOST }}{% url "profile" user.slug %}" target="_blank">{{ settings.APP_HOST }}{% url "profile" user.slug %}</a>
                        </p>
                        <p>
                            –ï–≥–æ –º–æ–≥—É—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤–∏–∫–∏ –∏ –≤–∏–¥–µ—Ç—å –ª—é–¥–∏ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ö–ª—É–±–µ. –ú–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –æ–Ω –≤—ã–≥–ª—è–¥–∏—Ç —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —á–µ—Ä–µ–∑ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ-–º–æ–¥ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.
                        </p>
                    {% else %}
                        <p>
                            –°–µ–π—á–∞—Å –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å <strong>–ó–ê–ö–†–´–¢</strong> –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ï–≥–æ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–ª–µ–Ω—ã –ö–ª—É–±–∞.
                        </p>
                        <p>
                            –í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –≤–∏–¥–∏–º—ã–º –Ω–∞—Ä—É–∂—É. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–Ω—É—Ç—Å—è —Å–∫—Ä—ã—Ç—ã–º–∏, –Ω–æ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∏–Ω—Ç—Ä–æ, –ø–æ—Å—Ç—ã –∏ –Ω–∞–≥—Ä–∞–¥—ã –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤—Å–µ–º.
                        </p>
                    {% endif %}

                    {% if user.is_profile_public %}
                        <button type="submit" class="button">–ù–µ—Ç, —Å–∫—Ä–æ–π—Ç–µ –º–µ–Ω—è –æ—Ç –±–æ–ª—å—à–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞!</button>
                    {% else %}
                        <button type="submit" class="button button-red" name="is_profile_public" value="1">–î–∞, —è —Ö–æ—á—É –ø—É–±–ª–∏—á–Ω–æ—Å—Ç–∏!</button>
                    {% endif %}
                </div>

                <div class="clearfix50"></div>
            </div>
        </form>
    </div>
{% endblock %}
